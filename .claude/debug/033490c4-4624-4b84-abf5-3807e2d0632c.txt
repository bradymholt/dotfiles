2025-12-08T20:40:40.234Z [DEBUG] Watching for changes in setting files /Users/bholt/dev/ynab-mcp/.claude/settings.local.json...
2025-12-08T20:40:40.278Z [DEBUG] [LSP MANAGER] initializeLspServerManager() called
2025-12-08T20:40:40.278Z [DEBUG] [LSP MANAGER] Created manager instance, state=pending
2025-12-08T20:40:40.278Z [DEBUG] [LSP MANAGER] Starting async initialization (generation 1)
2025-12-08T20:40:40.278Z [DEBUG] [LSP SERVER MANAGER] initialize() called
2025-12-08T20:40:40.278Z [DEBUG] [LSP SERVER MANAGER] Calling getAllLspServers()
2025-12-08T20:40:40.280Z [DEBUG] Applying permission update: Adding 1 allow rule(s) to destination 'localSettings': ["Bash(python:*)"]
2025-12-08T20:40:40.283Z [DEBUG] Found 0 plugins (0 enabled, 0 disabled)
2025-12-08T20:40:40.295Z [DEBUG] Total LSP servers loaded: 0
2025-12-08T20:40:40.296Z [DEBUG] [LSP SERVER MANAGER] getAllLspServers returned 0 server(s)
2025-12-08T20:40:40.296Z [DEBUG] LSP manager initialized with 0 servers
2025-12-08T20:40:40.296Z [DEBUG] LSP server manager initialized successfully
2025-12-08T20:40:40.296Z [DEBUG] LSP notification handlers registered successfully for all 0 server(s)
2025-12-08T20:40:40.298Z [DEBUG] Loading skills from directories: managed=/Library/Application Support/ClaudeCode/.claude/skills, user=/Users/bholt/.claude/skills, project=/Users/bholt/dev/ynab-mcp/.claude/skills
2025-12-08T20:40:40.298Z [DEBUG] >>>>> getPluginSkills CALLED <<<<<
2025-12-08T20:40:40.300Z [DEBUG] installed_plugins.json doesn't exist yet at /Users/bholt/.claude/plugins/installed_plugins.json, returning empty object
2025-12-08T20:40:40.312Z [DEBUG] Creating shell snapshot for zsh (/bin/zsh)
2025-12-08T20:40:40.312Z [DEBUG] Looking for shell config file: /Users/bholt/.zshrc
2025-12-08T20:40:40.312Z [DEBUG] Snapshots directory: /Users/bholt/.claude/shell-snapshots
2025-12-08T20:40:40.312Z [DEBUG] Creating snapshot at: /Users/bholt/.claude/shell-snapshots/snapshot-zsh-1765226440312-ebwsyk.sh
2025-12-08T20:40:40.312Z [DEBUG] Shell binary exists: true
2025-12-08T20:40:40.312Z [DEBUG] Execution timeout: 10000ms
2025-12-08T20:40:40.313Z [DEBUG] Writing to temp file: /Users/bholt/.claude/todos/033490c4-4624-4b84-abf5-3807e2d0632c-agent-033490c4-4624-4b84-abf5-3807e2d0632c.json.tmp.98018.1765226440313
2025-12-08T20:40:40.318Z [DEBUG] Temp file written successfully, size: 2 bytes
2025-12-08T20:40:40.318Z [DEBUG] Renaming /Users/bholt/.claude/todos/033490c4-4624-4b84-abf5-3807e2d0632c-agent-033490c4-4624-4b84-abf5-3807e2d0632c.json.tmp.98018.1765226440313 to /Users/bholt/.claude/todos/033490c4-4624-4b84-abf5-3807e2d0632c-agent-033490c4-4624-4b84-abf5-3807e2d0632c.json
2025-12-08T20:40:40.318Z [DEBUG] File /Users/bholt/.claude/todos/033490c4-4624-4b84-abf5-3807e2d0632c-agent-033490c4-4624-4b84-abf5-3807e2d0632c.json written atomically
2025-12-08T20:40:40.323Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440323
2025-12-08T20:40:40.323Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.327Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:40:40.327Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.327Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440323 to /Users/bholt/.claude.json
2025-12-08T20:40:40.327Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.330Z [DEBUG] getPluginSkills: Processing 0 enabled plugins
2025-12-08T20:40:40.330Z [DEBUG] Total plugin skills loaded: 0
2025-12-08T20:40:40.330Z [DEBUG] Total plugin commands loaded: 0
2025-12-08T20:40:40.330Z [DEBUG] Registered 0 hooks from 0 plugins
2025-12-08T20:40:40.330Z [DEBUG] Loaded 0 unique skills (managed: 0, user: 0, project: 0, duplicates removed: 0)
2025-12-08T20:40:40.331Z [DEBUG] getSkills returning: 0 skill dir commands, 0 plugin skills
2025-12-08T20:40:40.331Z [DEBUG] Total plugin agents loaded: 0
2025-12-08T20:40:40.343Z [DEBUG] Git remote URL: git@github.com:ynab/ynab-mcp.git
2025-12-08T20:40:40.343Z [DEBUG] Parsed repository: ynab/ynab-mcp from git@github.com:ynab/ynab-mcp.git
2025-12-08T20:40:40.343Z [DEBUG] Parsed repository: ynab/ynab-mcp from URL: git@github.com:ynab/ynab-mcp.git
2025-12-08T20:40:40.343Z [DEBUG] Path /Users/bholt/dev/ynab-mcp already tracked for repo ynab/ynab-mcp
2025-12-08T20:40:40.356Z [DEBUG] MCP server "ynab": Initializing HTTP transport to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:40:40.356Z [DEBUG] MCP server "ynab": Node version: v22.14.0, Platform: darwin
2025-12-08T20:40:40.356Z [DEBUG] MCP server "ynab": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
2025-12-08T20:40:40.361Z [DEBUG] MCP server "ynab": Proxy options: default
2025-12-08T20:40:40.361Z [DEBUG] MCP server "ynab": HTTP transport options: {"url":"https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp","headers":{"User-Agent":"claude-code/2.0.61"},"hasAuthProvider":true,"timeoutMs":60000}
2025-12-08T20:40:40.361Z [DEBUG] MCP server "ynab": HTTP transport created successfully
2025-12-08T20:40:40.371Z [DEBUG] MCP server "ynab": Client created, setting up request handler
2025-12-08T20:40:40.371Z [DEBUG] MCP server "ynab": Starting connection with timeout of 30000ms
2025-12-08T20:40:40.371Z [DEBUG] MCP server "ynab": Testing basic HTTP connectivity to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:40:40.371Z [DEBUG] MCP server "ynab": Parsed URL: host=vast-beach-57647-0efe6389be1d.herokuapp.com, port=default, protocol=https:
2025-12-08T20:40:40.373Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440373
2025-12-08T20:40:40.373Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.377Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:40:40.377Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.377Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440373 to /Users/bholt/.claude.json
2025-12-08T20:40:40.378Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.380Z [DEBUG] Getting matching hook commands for SessionStart with query: startup
2025-12-08T20:40:40.380Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:40:40.380Z [DEBUG] Matched 0 unique hooks for query "startup" (0 before deduplication)
2025-12-08T20:40:40.397Z [DEBUG] MCP server "ynab": No token data found
2025-12-08T20:40:40.421Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440421
2025-12-08T20:40:40.421Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.425Z [DEBUG] Temp file written successfully, size: 63689 bytes
2025-12-08T20:40:40.425Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.425Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440421 to /Users/bholt/.claude.json
2025-12-08T20:40:40.426Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.432Z [DEBUG] performStartupChecks called
2025-12-08T20:40:40.433Z [DEBUG] Starting background plugin installations
2025-12-08T20:40:40.433Z [DEBUG] performBackgroundPluginInstallations called
2025-12-08T20:40:40.439Z [DEBUG] Setting installation status: 0 marketplaces, 0 installable plugins, 0 uninstallable plugins
2025-12-08T20:40:40.439Z [DEBUG] Loaded plugins - Enabled: 0, Disabled: 0, Commands: 0, Agents: 0, Errors: 0
2025-12-08T20:40:40.441Z [DEBUG] Ripgrep first use test: PASSED (mode=builtin, path=/Users/bholt/.asdf/installs/nodejs/22.14.0/lib/node_modules/@anthropic-ai/claude-code/vendor/ripgrep/arm64-darwin/rg)
2025-12-08T20:40:40.442Z [DEBUG] Getting matching hook commands for SubagentStart with query: Explore
2025-12-08T20:40:40.442Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:40:40.442Z [DEBUG] Matched 0 unique hooks for query "Explore" (0 before deduplication)
2025-12-08T20:40:40.443Z [DEBUG] Getting matching hook commands for SubagentStart with query: Plan
2025-12-08T20:40:40.443Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:40:40.443Z [DEBUG] Matched 0 unique hooks for query "Plan" (0 before deduplication)
2025-12-08T20:40:40.500Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440500
2025-12-08T20:40:40.500Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.509Z [DEBUG] Temp file written successfully, size: 63689 bytes
2025-12-08T20:40:40.509Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.509Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440500 to /Users/bholt/.claude.json
2025-12-08T20:40:40.509Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.511Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440511
2025-12-08T20:40:40.511Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.515Z [DEBUG] Temp file written successfully, size: 63689 bytes
2025-12-08T20:40:40.515Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.515Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440511 to /Users/bholt/.claude.json
2025-12-08T20:40:40.515Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.516Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440516
2025-12-08T20:40:40.516Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.520Z [DEBUG] Temp file written successfully, size: 63689 bytes
2025-12-08T20:40:40.520Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.520Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440516 to /Users/bholt/.claude.json
2025-12-08T20:40:40.521Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.523Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440523
2025-12-08T20:40:40.523Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.528Z [DEBUG] Temp file written successfully, size: 63689 bytes
2025-12-08T20:40:40.528Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.528Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440523 to /Users/bholt/.claude.json
2025-12-08T20:40:40.528Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.529Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440529
2025-12-08T20:40:40.529Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.533Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:40:40.533Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.533Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440529 to /Users/bholt/.claude.json
2025-12-08T20:40:40.533Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:40.555Z [DEBUG] Shell snapshot created successfully (48151 bytes)
2025-12-08T20:40:40.555Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2025-12-08T20:40:40.834Z [DEBUG] MCP server "ynab": HTTP Connection failed after 478ms: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin) (code: none, errno: none)
2025-12-08T20:40:40.834Z [ERROR] MCP server "ynab" Error: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:40:40.835Z [DEBUG] MCP server "ynab": Connection failed after 479ms: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:40:40.835Z [ERROR] MCP server "ynab" Connection failed: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:40:40.838Z [DEBUG] Skills and commands included in Skill tool:
2025-12-08T20:40:40.838Z [DEBUG] Slash commands included in SlashCommand tool:
2025-12-08T20:40:40.926Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226440926
2025-12-08T20:40:40.926Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:40:40.937Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:40:40.937Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:40:40.937Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226440926 to /Users/bholt/.claude.json
2025-12-08T20:40:40.938Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:40:41.171Z [DEBUG] Stream started - received first chunk
2025-12-08T20:40:42.036Z [DEBUG] MCP server "ynab": No token data found
2025-12-08T20:40:42.110Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2025-12-08T20:40:42.260Z [DEBUG] Getting matching hook commands for SubagentStop with query: undefined
2025-12-08T20:40:42.260Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:40:42.260Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2025-12-08T20:40:42.478Z [DEBUG] Stream started - received first chunk
2025-12-08T20:40:44.259Z [DEBUG] MCP server "ynab": Using redirect port: 63996
2025-12-08T20:40:44.334Z [DEBUG] MCP server "ynab": Fetched OAuth metadata with scope: NONE
2025-12-08T20:40:44.335Z [DEBUG] MCP server "ynab": Generated new OAuth state
2025-12-08T20:40:44.336Z [DEBUG] MCP server "ynab": Starting SDK auth
2025-12-08T20:40:44.336Z [DEBUG] MCP server "ynab": Server URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:40:44.508Z [DEBUG] MCP server "ynab": No client info found
2025-12-08T20:40:44.544Z [DEBUG] MCP server "ynab": SDK auth error: xi: HTTP 404: Invalid OAuth error response: SyntaxError: Unexpected token 'N', "Not Found" is not valid JSON. Raw body: Not Found
2025-12-08T20:40:44.545Z [DEBUG] MCP server "ynab": MCP OAuth server cleaned up
2025-12-08T20:40:49.424Z [DEBUG] Getting matching hook commands for SubagentStop with query: undefined
2025-12-08T20:40:49.424Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:40:49.424Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2025-12-08T20:41:00.077Z [DEBUG] MCP server "ynab": Initializing HTTP transport to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:41:00.079Z [DEBUG] MCP server "ynab": Node version: v22.14.0, Platform: darwin
2025-12-08T20:41:00.080Z [DEBUG] MCP server "ynab": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
2025-12-08T20:41:00.080Z [DEBUG] MCP server "ynab": Proxy options: default
2025-12-08T20:41:00.081Z [DEBUG] MCP server "ynab": HTTP transport options: {"url":"https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp","headers":{"User-Agent":"claude-code/2.0.61"},"hasAuthProvider":true,"timeoutMs":60000}
2025-12-08T20:41:00.081Z [DEBUG] MCP server "ynab": HTTP transport created successfully
2025-12-08T20:41:00.086Z [DEBUG] MCP server "ynab": Client created, setting up request handler
2025-12-08T20:41:00.087Z [DEBUG] MCP server "ynab": Starting connection with timeout of 30000ms
2025-12-08T20:41:00.087Z [DEBUG] MCP server "ynab": Testing basic HTTP connectivity to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:41:00.087Z [DEBUG] MCP server "ynab": Parsed URL: host=vast-beach-57647-0efe6389be1d.herokuapp.com, port=default, protocol=https:
2025-12-08T20:41:00.116Z [DEBUG] MCP server "ynab": No token data found
2025-12-08T20:41:00.361Z [DEBUG] MCP server "ynab": HTTP Connection failed after 284ms: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin) (code: none, errno: none)
2025-12-08T20:41:00.362Z [ERROR] MCP server "ynab" Error: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:41:00.363Z [DEBUG] MCP server "ynab": Connection failed after 286ms: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:41:00.363Z [ERROR] MCP server "ynab" Connection failed: Protected resource https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp/mcp does not match expected https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp (or origin)
2025-12-08T20:41:00.368Z [DEBUG] FileHistory: Added snapshot for 6bb3f39e-0a71-409b-8d9b-bcf530ed9b06, tracking 0 files
2025-12-08T20:41:00.370Z [DEBUG] UserCommandMessage rendering: "mcp" (args: "none")
2025-12-08T20:41:00.370Z [DEBUG] isSkillFormat: false, prefix: "/"
2025-12-08T20:41:00.394Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226460394
2025-12-08T20:41:00.394Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:41:00.399Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:41:00.399Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:41:00.399Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226460394 to /Users/bholt/.claude.json
2025-12-08T20:41:00.399Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:41:00.403Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226460403
2025-12-08T20:41:00.403Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:41:00.408Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:41:00.408Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:41:00.408Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226460403 to /Users/bholt/.claude.json
2025-12-08T20:41:00.408Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:41:00.476Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2025-12-08T20:41:03.094Z [DEBUG] MCP server "ynab": No token data found
2025-12-08T20:41:06.029Z [DEBUG] MCP server "ynab": Using redirect port: 64089
2025-12-08T20:41:06.274Z [DEBUG] MCP server "ynab": Fetched OAuth metadata with scope: NONE
2025-12-08T20:41:06.276Z [DEBUG] MCP server "ynab": Generated new OAuth state
2025-12-08T20:41:06.277Z [DEBUG] MCP server "ynab": Starting SDK auth
2025-12-08T20:41:06.277Z [DEBUG] MCP server "ynab": Server URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:41:06.456Z [DEBUG] MCP server "ynab": No client info found
2025-12-08T20:41:06.493Z [DEBUG] MCP server "ynab": SDK auth error: xi: HTTP 404: Invalid OAuth error response: SyntaxError: Unexpected token 'N', "Not Found" is not valid JSON. Raw body: Not Found
2025-12-08T20:41:06.493Z [DEBUG] MCP server "ynab": MCP OAuth server cleaned up
2025-12-08T20:42:10.102Z [DEBUG] MCP server "ynab": Using redirect port: 63613
2025-12-08T20:42:10.352Z [DEBUG] MCP server "ynab": Fetched OAuth metadata with scope: NONE
2025-12-08T20:42:10.353Z [DEBUG] MCP server "ynab": Generated new OAuth state
2025-12-08T20:42:10.355Z [DEBUG] MCP server "ynab": Starting SDK auth
2025-12-08T20:42:10.355Z [DEBUG] MCP server "ynab": Server URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:42:10.469Z [DEBUG] MCP server "ynab": No client info found
2025-12-08T20:42:10.605Z [DEBUG] MCP server "ynab": Token expired without refresh token
2025-12-08T20:42:10.607Z [DEBUG] MCP server "ynab": Saving code verifier
2025-12-08T20:42:10.607Z [DEBUG] MCP server "ynab": Authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=6820431a-d1fd-4040-b61f-35245ee3f0ee&code_challenge=TA51X73FexvXQdLaAsQwkRaGGaOxXo2NuKJyr5jsJrw&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A63613%2Fcallback&state=lOizh5D_WsOYmmL9FUCCMrimmoyHJg1mJQkWFhwVqZo&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:42:10.607Z [DEBUG] MCP server "ynab": Scopes in URL: NOT FOUND
2025-12-08T20:42:10.607Z [DEBUG] MCP server "ynab": No scopes available from URL or metadata
2025-12-08T20:42:10.607Z [DEBUG] MCP server "ynab": Redirecting to authorization URL
2025-12-08T20:42:10.608Z [DEBUG] MCP server "ynab": Authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=6820431a-d1fd-4040-b61f-35245ee3f0ee&code_challenge=TA51X73FexvXQdLaAsQwkRaGGaOxXo2NuKJyr5jsJrw&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A63613%2Fcallback&state=lOizh5D_WsOYmmL9FUCCMrimmoyHJg1mJQkWFhwVqZo&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:42:10.608Z [DEBUG] MCP server "ynab": Opening authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=6820431a-d1fd-4040-b61f-35245ee3f0ee&code_challenge=TA51X73FexvXQdLaAsQwkRaGGaOxXo2NuKJyr5jsJrw&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A63613%2Fcallback&state=lOizh5D_WsOYmmL9FUCCMrimmoyHJg1mJQkWFhwVqZo&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:42:10.690Z [DEBUG] MCP server "ynab": Initial auth result: REDIRECT
2025-12-08T20:43:13.790Z [DEBUG] MCP server "ynab": MCP OAuth server cleaned up
2025-12-08T20:43:13.812Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226593812
2025-12-08T20:43:13.812Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:43:13.823Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:43:13.823Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:43:13.823Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226593812 to /Users/bholt/.claude.json
2025-12-08T20:43:13.823Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:43:15.166Z [DEBUG] MCP server "ynab": Cleared stored tokens
2025-12-08T20:43:15.166Z [DEBUG] MCP server "ynab": Using redirect port: 51116
2025-12-08T20:43:15.454Z [DEBUG] MCP server "ynab": Fetched OAuth metadata with scope: NONE
2025-12-08T20:43:15.455Z [DEBUG] MCP server "ynab": Generated new OAuth state
2025-12-08T20:43:15.456Z [DEBUG] MCP server "ynab": Starting SDK auth
2025-12-08T20:43:15.457Z [DEBUG] MCP server "ynab": Server URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:43:15.572Z [DEBUG] MCP server "ynab": No client info found
2025-12-08T20:43:15.705Z [DEBUG] MCP server "ynab": Token expired without refresh token
2025-12-08T20:43:15.705Z [DEBUG] MCP server "ynab": Saving code verifier
2025-12-08T20:43:15.705Z [DEBUG] MCP server "ynab": Authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=307ca61b-969d-47c8-9c65-e49ce42fc31c&code_challenge=GXa1lZ4TSzbM80Zr1yxeU8aBJvI_aYC8zU-jay7QDrM&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A51116%2Fcallback&state=6kGN8khZP24ZCdKLPbrYzzFoh3X1E9JQmlgDBx00Qiw&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:43:15.705Z [DEBUG] MCP server "ynab": Scopes in URL: NOT FOUND
2025-12-08T20:43:15.706Z [DEBUG] MCP server "ynab": No scopes available from URL or metadata
2025-12-08T20:43:15.706Z [DEBUG] MCP server "ynab": Redirecting to authorization URL
2025-12-08T20:43:15.706Z [DEBUG] MCP server "ynab": Authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=307ca61b-969d-47c8-9c65-e49ce42fc31c&code_challenge=GXa1lZ4TSzbM80Zr1yxeU8aBJvI_aYC8zU-jay7QDrM&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A51116%2Fcallback&state=6kGN8khZP24ZCdKLPbrYzzFoh3X1E9JQmlgDBx00Qiw&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:43:15.706Z [DEBUG] MCP server "ynab": Opening authorization URL: https://vast-beach-57647-0efe6389be1d.herokuapp.com/authorize?response_type=code&client_id=307ca61b-969d-47c8-9c65-e49ce42fc31c&code_challenge=GXa1lZ4TSzbM80Zr1yxeU8aBJvI_aYC8zU-jay7QDrM&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A51116%2Fcallback&state=6kGN8khZP24ZCdKLPbrYzzFoh3X1E9JQmlgDBx00Qiw&resource=https%3A%2F%2Fvast-beach-57647-0efe6389be1d.herokuapp.com%2Fmcp
2025-12-08T20:43:15.786Z [DEBUG] MCP server "ynab": Initial auth result: REDIRECT
2025-12-08T20:43:17.746Z [DEBUG] MCP server "ynab": MCP OAuth server cleaned up
2025-12-08T20:43:17.750Z [DEBUG] MCP server "ynab": Completing auth flow with authorization code
2025-12-08T20:43:17.871Z [DEBUG] MCP server "ynab": Found client info
2025-12-08T20:43:17.872Z [DEBUG] MCP server "ynab": Returning code verifier
2025-12-08T20:43:17.947Z [DEBUG] MCP server "ynab": Saving tokens
2025-12-08T20:43:17.947Z [DEBUG] MCP server "ynab": Token expires in: 7200
2025-12-08T20:43:17.948Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:17.999Z [DEBUG] MCP server "ynab": Auth result: AUTHORIZED
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Tokens after auth: Present
2025-12-08T20:43:18.021Z [DEBUG] MCP server "ynab": Token access_token length: 447
2025-12-08T20:43:18.022Z [DEBUG] MCP server "ynab": Token expires_in: 7199.927
2025-12-08T20:43:18.022Z [DEBUG] MCP server "ynab": Initializing HTTP transport to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:43:18.022Z [DEBUG] MCP server "ynab": Node version: v22.14.0, Platform: darwin
2025-12-08T20:43:18.022Z [DEBUG] MCP server "ynab": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
2025-12-08T20:43:18.022Z [DEBUG] MCP server "ynab": Proxy options: default
2025-12-08T20:43:18.023Z [DEBUG] MCP server "ynab": HTTP transport options: {"url":"https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp","headers":{"User-Agent":"claude-code/2.0.61"},"hasAuthProvider":true,"timeoutMs":60000}
2025-12-08T20:43:18.023Z [DEBUG] MCP server "ynab": HTTP transport created successfully
2025-12-08T20:43:18.023Z [DEBUG] MCP server "ynab": Client created, setting up request handler
2025-12-08T20:43:18.023Z [DEBUG] MCP server "ynab": Starting connection with timeout of 30000ms
2025-12-08T20:43:18.023Z [DEBUG] MCP server "ynab": Testing basic HTTP connectivity to https://vast-beach-57647-0efe6389be1d.herokuapp.com/mcp
2025-12-08T20:43:18.024Z [DEBUG] MCP server "ynab": Parsed URL: host=vast-beach-57647-0efe6389be1d.herokuapp.com, port=default, protocol=https:
2025-12-08T20:43:18.045Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.046Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.046Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.046Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.210Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.210Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.210Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.210Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.382Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.383Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.383Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.383Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.384Z [DEBUG] MCP server "ynab": Successfully connected to http server in 362ms
2025-12-08T20:43:18.385Z [DEBUG] MCP server "ynab": Connection established with capabilities: {"hasTools":true,"hasPrompts":true,"hasResources":true,"serverVersion":{"name":"YNAB MCP Server","version":"2.13.1"}}
2025-12-08T20:43:18.414Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.414Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.414Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.414Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.439Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.439Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.439Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.439Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.461Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:18.462Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:18.462Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:18.462Z [DEBUG] MCP server "ynab": Expires in: 7199s
2025-12-08T20:43:18.889Z [DEBUG] FileHistory: Making snapshot for message 247e1049-59e7-4466-9978-c9698e505f2c
2025-12-08T20:43:18.889Z [DEBUG] FileHistory: Added snapshot for 247e1049-59e7-4466-9978-c9698e505f2c, tracking 0 files
2025-12-08T20:43:18.891Z [DEBUG] UserCommandMessage rendering: "mcp" (args: "none")
2025-12-08T20:43:18.891Z [DEBUG] isSkillFormat: false, prefix: "/"
2025-12-08T20:43:18.914Z [DEBUG] Writing to temp file: /Users/bholt/.claude.json.tmp.98018.1765226598914
2025-12-08T20:43:18.914Z [DEBUG] Preserving file permissions: 100644
2025-12-08T20:43:18.919Z [DEBUG] Temp file written successfully, size: 63794 bytes
2025-12-08T20:43:18.919Z [DEBUG] Applied original permissions to temp file
2025-12-08T20:43:18.919Z [DEBUG] Renaming /Users/bholt/.claude.json.tmp.98018.1765226598914 to /Users/bholt/.claude.json
2025-12-08T20:43:18.920Z [DEBUG] File /Users/bholt/.claude.json written atomically
2025-12-08T20:43:18.997Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2025-12-08T20:43:23.119Z [DEBUG] [TeammateMailbox] getTeammateMailboxAttachments called: agentId=undefined, CLAUDE_CODE_AGENT_NAME=undefined, CLAUDE_CODE_AGENT_TYPE=undefined, resolved agentName=undefined, teamName=undefined
2025-12-08T20:43:23.119Z [DEBUG] [TeammateMailbox] Not checking inbox - no agent name (neither CLAUDE_CODE_AGENT_NAME nor CLAUDE_CODE_AGENT_TYPE set)
2025-12-08T20:43:23.119Z [DEBUG] LSP Diagnostics: getLSPDiagnosticAttachments called
2025-12-08T20:43:23.119Z [DEBUG] LSP Diagnostics: Checking registry - 0 pending
2025-12-08T20:43:23.120Z [DEBUG] Hooks: Found 0 total hooks in registry
2025-12-08T20:43:23.120Z [DEBUG] Hooks: checkForNewResponses returning 0 responses
2025-12-08T20:43:23.132Z [DEBUG] Getting matching hook commands for UserPromptSubmit with query: undefined
2025-12-08T20:43:23.132Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:43:23.132Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2025-12-08T20:43:23.132Z [DEBUG] FileHistory: Making snapshot for message 8fa71015-04fd-494b-8a14-82b6af7f9b39
2025-12-08T20:43:23.133Z [DEBUG] FileHistory: Added snapshot for 8fa71015-04fd-494b-8a14-82b6af7f9b39, tracking 0 files
2025-12-08T20:43:23.140Z [DEBUG] Total plugin output styles loaded: 0
2025-12-08T20:43:24.881Z [DEBUG] Stream started - received first chunk
2025-12-08T20:43:26.404Z [DEBUG] Stream started - received first chunk
2025-12-08T20:43:29.760Z [DEBUG] executePreToolHooks called for tool: mcp__ynab__getBudgets
2025-12-08T20:43:29.765Z [DEBUG] Getting matching hook commands for PreToolUse with query: mcp__ynab__getBudgets
2025-12-08T20:43:29.765Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:43:29.765Z [DEBUG] Matched 0 unique hooks for query "mcp__ynab__getBudgets" (0 before deduplication)
2025-12-08T20:43:29.783Z [DEBUG] executePermissionRequestHooks called for tool: mcp__ynab__getBudgets
2025-12-08T20:43:29.788Z [DEBUG] Getting matching hook commands for PermissionRequest with query: mcp__ynab__getBudgets
2025-12-08T20:43:29.788Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:43:29.788Z [DEBUG] Matched 0 unique hooks for query "mcp__ynab__getBudgets" (0 before deduplication)
2025-12-08T20:43:33.544Z [DEBUG] MCP server "ynab": Calling MCP tool: getBudgets
2025-12-08T20:43:33.572Z [DEBUG] MCP server "ynab": Returning tokens
2025-12-08T20:43:33.573Z [DEBUG] MCP server "ynab": Token length: 447
2025-12-08T20:43:33.573Z [DEBUG] MCP server "ynab": Has refresh token: true
2025-12-08T20:43:33.573Z [DEBUG] MCP server "ynab": Expires in: 7184s
2025-12-08T20:43:33.647Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2025-12-08T20:43:34.068Z [DEBUG] MCP server "ynab": Tool 'getBudgets' completed successfully in 524ms
2025-12-08T20:43:34.073Z [DEBUG] Getting matching hook commands for PostToolUse with query: mcp__ynab__getBudgets
2025-12-08T20:43:34.073Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:43:34.073Z [DEBUG] Matched 0 unique hooks for query "mcp__ynab__getBudgets" (0 before deduplication)
2025-12-08T20:43:34.079Z [DEBUG] [TeammateMailbox] getTeammateMailboxAttachments called: agentId=undefined, CLAUDE_CODE_AGENT_NAME=undefined, CLAUDE_CODE_AGENT_TYPE=undefined, resolved agentName=undefined, teamName=undefined
2025-12-08T20:43:34.079Z [DEBUG] [TeammateMailbox] Not checking inbox - no agent name (neither CLAUDE_CODE_AGENT_NAME nor CLAUDE_CODE_AGENT_TYPE set)
2025-12-08T20:43:34.079Z [DEBUG] LSP Diagnostics: getLSPDiagnosticAttachments called
2025-12-08T20:43:34.079Z [DEBUG] LSP Diagnostics: Checking registry - 0 pending
2025-12-08T20:43:34.079Z [DEBUG] Hooks: Found 0 total hooks in registry
2025-12-08T20:43:34.079Z [DEBUG] Hooks: checkForNewResponses returning 0 responses
2025-12-08T20:43:36.656Z [DEBUG] Stream started - received first chunk
2025-12-08T20:44:13.462Z [DEBUG] Getting matching hook commands for Stop with query: undefined
2025-12-08T20:44:13.462Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:44:13.462Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2025-12-08T20:45:40.424Z [DEBUG] Metrics opt-out API response: enabled=true, vcsLinking=false
2025-12-08T20:45:40.607Z [DEBUG] BigQuery metrics exported successfully
2025-12-08T20:45:40.607Z [DEBUG] BigQuery API Response: {
  "accepted_count": 13,
  "rejected_count": 0
}
2025-12-08T20:52:51.193Z [DEBUG] Getting matching hook commands for SessionEnd with query: prompt_input_exit
2025-12-08T20:52:51.193Z [DEBUG] Found 0 hook matchers in settings
2025-12-08T20:52:51.193Z [DEBUG] Matched 0 unique hooks for query "prompt_input_exit" (0 before deduplication)
